(this.webpackJsonpassets_wfa_widget=this.webpackJsonpassets_wfa_widget||[]).push([[0],{2:function(e,t,a){e.exports={header:"AssetsWaitingForApproval_header__3a1hI",header__buttons:"AssetsWaitingForApproval_header__buttons__3gTwN",header__title:"AssetsWaitingForApproval_header__title__1PeWt",header__title__placeholder:"AssetsWaitingForApproval_header__title__placeholder__2wx1B",header__button:"AssetsWaitingForApproval_header__button__3B8AP","header__button--approve":"AssetsWaitingForApproval_header__button--approve__2mby8","header__button--decline":"AssetsWaitingForApproval_header__button--decline__1BOoT",image__container:"AssetsWaitingForApproval_image__container__2w76t","image__hover-layer":"AssetsWaitingForApproval_image__hover-layer__2p_lL","details-button":"AssetsWaitingForApproval_details-button__IGQyV","checkmark-icon":"AssetsWaitingForApproval_checkmark-icon__3mY7d","image--selected":"AssetsWaitingForApproval_image--selected__1LrRC"}},27:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),s=a(20),c=a.n(s),o=(a(27),a(21)),r=a(22),l=(a(28),a(11)),d=a.n(l),_=a(2),u=a.n(_),h=a.p+"static/media/checkmark_icon.756b7439.svg",b=a(0),p=function(e){var t=e.image,a=e.clickHandler;return Object(b.jsx)("div",{className:"views-row",children:Object(b.jsxs)("div",{className:"card card-inverse card--media ".concat(u.a.image__container),children:[Object(b.jsx)("img",{src:t.src,width:"500",height:"334",loading:"lazy",className:"card-img img-fluid ".concat(t.selected?u.a["image--selected"]:""),style:{maxWidth:"234.812px",maxHeight:"158.734px"},alt:t.alt}),Object(b.jsxs)("div",{className:u.a["image__hover-layer"],onClick:function(){return a(t)},children:[Object(b.jsx)("img",{src:h,alt:"checkmark icon",className:u.a["checkmark-icon"]}),Object(b.jsx)("button",{className:u.a["details-button"],onClick:function(e){e.preventDefault(),e.stopPropagation(),console.log("Details button clicked")},children:"details"})]})]})})},v=a(50),m=a(51),g=a(52),j=function(e){return e.filter((function(e){return e.selected}))},f={username:"admin",password:"123456"},x=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),a=t[0],n=t[1];Object(i.useEffect)((function(){d.a.get("/jsonapi/media/image?filter[status]=0&include=field_category,field_image,field_keywords,thumbnail",{auth:f}).then((function(e){var t,a=(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data)||[],i=[];a.forEach((function(e){var t,a,n,s;i.push({id:(null===e||void 0===e?void 0:e.id)||0,src:(null===e||void 0===e||null===(t=e.thumbnail)||void 0===t||null===(a=t.uri)||void 0===a?void 0:a.url)||"",alt:(null===e||void 0===e||null===(n=e.field_image)||void 0===n||null===(s=n.meta)||void 0===s?void 0:s.alt)||""})})),n(i)})).catch((function(e){console.log(e)}))}),[]);var s=function(e){e.selected=!e.selected,n(Object(o.a)(a))},c=function(e){var t=a.filter((function(e){return e.selected})),i=[];e?t.forEach((function(e){i.push({requestId:""+e.id,uri:"/jsonapi/media/image/"+e.id,action:"patch",body:'{"data":{"status":"1","type":"media", "id":"'.concat(e.id,'"}}')})})):t.forEach((function(e){i.push({requestId:""+e.id,uri:"/jsonapi/media/image"+e.id,action:"delete"})})),d.a.post("http://damopen.docker.localhost:8000/subrequests",i,{auth:f}).then((function(e){console.log("SUCCESS: "),console.log(e)})).catch((function(e){console.log("ERROR: "),console.log(e)}))},l=Object(b.jsx)(v.a,{children:Object(b.jsx)(m.a,{children:Object(b.jsx)(g.a,{children:Object(b.jsxs)("div",{className:u.a.header,children:[Object(b.jsx)("div",{className:u.a.header__title,children:"Assets waiting for approval"}),0!==j(a).length?Object(b.jsxs)("div",{className:u.a.header__buttons,children:[Object(b.jsx)("button",{className:"".concat(u.a.header__button," ").concat(u.a["header__button--approve"]),onClick:function(){return c(!0)},children:"Approve selected items"}),Object(b.jsx)("button",{className:"".concat(u.a.header__button," ").concat(u.a["header__button--decline"]),onClick:function(){return c(!1)},children:"Decline"})]}):Object(b.jsx)("div",{className:u.a.header__placeholder,children:"Please select some assets."})]})})})}),_=Object(b.jsx)("div",{className:"region region-content",children:Object(b.jsx)("div",{className:"views-element-container",children:Object(b.jsx)("div",{className:"assets-library unpublished-assets-library view-media-library view view-unpublished-assets view-id-unpublished_assets view-display-id-unpublished_assets js-view-dom-id-05c584ebdc7dfcb5a9045db210b02f4d99b6d8382701e8ba198069d9233ab838",children:Object(b.jsx)("div",{className:"view-content",children:a.map((function(e){return Object(b.jsx)(p,{image:e,clickHandler:s},e.id)}))})})})});return Object(b.jsxs)("div",{children:[l,_]})};var O=function(){return Object(b.jsx)(x,{})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,53)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),i(e),n(e),s(e),c(e)}))};c.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("assets_wfa_widget_root")),A()}},[[48,1,2]]]);
//# sourceMappingURL=main.f328a282.chunk.js.map